(this["webpackJsonptemanashi-client"]=this["webpackJsonptemanashi-client"]||[]).push([[0],{173:function(e,t,c){"use strict";c.r(t);var n=c(2),r=c.n(n),a=c(33),s=(c(97),c(9)),i=c(12),o=c(3),u=c(10),l=c(30),j=(c(174),c(98),c(175),c(176),{apiKey:"AIzaSyDR0tM8Hw9bvyx9IBIRcoHRN4Ju-3BIIDA",authDomain:"temanashi-39b3f.firebaseapp.com",projectId:"temanashi-39b3f",storageBucket:"temanashi-39b3f.appspot.com",messagingSenderId:"531640005873",appId:"1:531640005873:web:f8aaf829dd9b32020da550",useFirebaseEmulator:"localhost"===window.location.hostname});l.a.initializeApp(j);var d=l.a.firestore(),b=l.a.auth(),m=l.a.storage(),p=l.a.app().functions(),h=l.a.firestore.Timestamp,O=j.useFirebaseEmulator;O&&l.a.functions().useEmulator("localhost",5001);var x=c(0),f={user:null,authIsReady:!1},v=Object(n.createContext)(void 0),g=function(e,t){switch(t.type){case"LOGIN":return Object(u.a)(Object(u.a)({},e),{},{user:t.payload});case"LOGOUT":return Object(u.a)(Object(u.a)({},e),{},{user:null});case"AUTH_IS_READY":return{user:t.payload,authIsReady:!0};default:return e}},N=function(e){var t=e.children,c=Object(n.useReducer)(g,f),r=Object(o.a)(c,2),a=r[0],s=r[1];return Object(n.useEffect)((function(){var e=b.onAuthStateChanged((function(t){t&&(s({type:"AUTH_IS_READY",payload:t}),e())}))}),[]),Object(x.jsx)(v.Provider,{value:Object(u.a)(Object(u.a)({},a),{},{dispatch:s}),children:t})},w=function(){var e=Object(n.useContext)(v);if(!e)throw Error("useAuthContext must be used inside an AuthContextProvider");return e},y=c(6),k=c(4),S=c.n(k),C=["all","bed","blanket","chair","lamp","plant","rug","table","shelf","sofa","development","sales","design","marketing"],E=function(e){var t=e.currentFilter,c=e.changeFilter;return Object(x.jsx)("div",{className:"product-filter-container",children:Object(x.jsxs)("nav",{children:[Object(x.jsx)("p",{className:"title",children:"FILTER BY"}),C.map((function(e){return Object(x.jsx)("button",{onClick:function(){c(e)},className:t===e?"active":"",children:e},e)}))]})})},q=c(27),I=c(28),D=c(71),_=function(){function e(){Object(q.a)(this,e)}return Object(I.a)(e,[{key:"fetchAll",value:function(){var e=Object(y.a)(S.a.mark((function e(){var t,c;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=d.collection("products").orderBy("metadata.createdAt","desc"),e.next=3,t.get();case 3:return c=e.sent,e.next=6,Promise.all(c.docs.map(function(){var e=Object(y.a)(S.a.mark((function e(t){var c,n,r,a;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=t.ref.collection("prices"),e.next=3,c.where("active","==",!0).get();case 3:return n=e.sent,r=n.docs.reduce((function(e,t){return e[t.id]=t.data(),e}),{}),a={product:Object(u.a)({id:t.id},t.data()),prices:r,comments:[]},e.abrupt("return",a);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"fetchProductItem",value:function(){var e=Object(y.a)(S.a.mark((function e(t){var c,n,r,a,s,i,o,l,j;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=d.collection("products").doc(t),e.next=3,c.get();case 3:return n=e.sent,e.next=6,n.ref.collection("prices");case 6:return r=e.sent,e.next=9,r.where("active","==",!0).get();case 9:return a=e.sent,e.next=12,a.docs.reduce((function(e,t){return e[t.id]=t.data(),e}),{});case 12:return s=e.sent,e.next=15,n.ref.collection("comments");case 15:return i=e.sent,e.next=18,i.get();case 18:return o=e.sent,e.next=21,o.docs.map((function(e){return e.data()}));case 21:return l=e.sent,console.log(l,"commentMap"),j={product:Object(u.a)({id:n.id},n.data()),prices:s,comments:l},e.abrupt("return",j);case 25:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"fetchProductItemWitoutComment",value:function(){var e=Object(y.a)(S.a.mark((function e(t){var c,n,r,a,s,i;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=d.collection("products").doc(t),e.next=3,c.get();case 3:return n=e.sent,e.next=6,n.ref.collection("prices");case 6:return r=e.sent,e.next=9,r.get();case 9:return a=e.sent,e.next=12,a.docs.reduce((function(e,t){return e[t.id]=t.data(),e}),{});case 12:return s=e.sent,i={product:Object(u.a)({id:n.id},n.data()),prices:s},e.abrupt("return",i);case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"fetchPayments",value:function(){var e=Object(y.a)(S.a.mark((function e(t){var c,n,r;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.collection("customers").doc(t).collection("payments").where("status","==","succeeded");case 2:return c=e.sent,e.next=5,c.get();case 5:return n=e.sent,e.next=8,n.docs.map((function(e){return Object(u.a)({id:e.id},e.data())}));case 8:return r=e.sent,e.abrupt("return",r);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"buy",value:function(){var e=Object(y.a)(S.a.mark((function e(t,c,n,r){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(){var e=Object(y.a)(S.a.mark((function e(a,s){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.collection("customers").doc(t).collection("checkout_sessions").add({mode:"payment",line_items:c,success_url:n,cancel_url:r});case 2:e.sent.onSnapshot(function(){var e=Object(y.a)(S.a.mark((function e(t){var c,n,r,i;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.data();case 2:if(c=e.sent,n=c.error,r=c.sessionId,!n){e.next=7;break}return e.abrupt("return",s(n));case 7:if(!r){e.next=15;break}return e.next=10,Object(D.a)("pk_test_51JBawwHlnbfxWLbN6uzZkE7xRADYVVNw5kNVCrakTnvJfIUcIUhJLKk6z3MM2LWbYpPU4tugZDJ02aBFSzbssNHX00L3Uk9fWq");case 10:if(i=e.sent){e.next=13;break}return e.abrupt("return",s());case 13:return i.redirectToCheckout({sessionId:r}),e.abrupt("return",a(void 0));case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 4:case"end":return e.stop()}}),e)})));return function(t,c){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}}),e)})));return function(t,c,n,r){return e.apply(this,arguments)}}()}]),e}(),F=new _,T=function(e){var t,c,n,r,a=e.split("/");return{collection:null!==(t=a[1])&&void 0!==t?t:"",document:null!==(c=a[2])&&void 0!==c?c:"",subCollection:null!==(n=a[3])&&void 0!==n?n:"",subDocument:null!==(r=a[4])&&void 0!==r?r:""}},U=function(e,t){return 1.1,"\xa5".concat(Math.round(1.011*e).toLocaleString())},P=function(e){return new Promise((function(t){return setTimeout(t,e)}))},R=function(){var e=0;return document.scrollingElement&&(e=document.scrollingElement.scrollTop),Math.max(window.scrollY,window.pageYOffset,document.body.scrollTop,document.documentElement.scrollTop,e)},L=c(50),M=(c(102),Object(L.trackWindowScroll)((function(e){var t=e.src,c=e.scrollPosition;return Object(x.jsx)(L.LazyLoadImage,{src:t,className:"image",scrollPosition:c})}))),A=function(e){var t=e.productItems;if(!w().user)throw new Error("we cant find your account");return Object(x.jsx)("div",{className:"product-list",children:t&&t.map((function(e){var t,c,n,r,a,i;return Object(x.jsxs)(s.b,{to:"/furnitures/".concat(e.product.id),className:"wrapper",children:[Object(x.jsx)("div",{className:"thumbnail",children:e.product.images.length>0?Object(x.jsx)(M,{src:e.product.images[0]}):Object(x.jsx)(M,{src:"https://placehold.jp/230x160.png"})}),Object(x.jsxs)("div",{className:"content",children:[Object(x.jsx)("h4",{className:"name",children:e.product.name}),Object.keys(e.prices).map((function(t){return Object(x.jsx)("p",{className:"price",children:U(e.prices[t].unit_amount)},t)})),Object(x.jsx)("div",{className:"dimentions",children:Object(x.jsxs)("ul",{children:[Object(x.jsxs)("li",{children:["\u5e45 ",null!==(t=null===(c=e.product.metadata)||void 0===c?void 0:c.width)&&void 0!==t?t:111,"cm"]}),Object(x.jsxs)("li",{children:["\u6df1\u3055 ",null!==(n=null===(r=e.product.metadata)||void 0===r?void 0:r.length)&&void 0!==n?n:222,"cm"]}),Object(x.jsxs)("li",{children:["\u9ad8\u3055 ",null!==(a=null===(i=e.product.metadata)||void 0===i?void 0:i.height)&&void 0!==a?a:333,"cm"]})]})})]})]},e.product.id)}))})},W=c(73),J=c.n(W),B=function(e){var t=e.message,c={top:Math.max(window.pageYOffset,document.documentElement.scrollTop,document.body.scrollTop)};return Object(x.jsx)(x.Fragment,{children:Object(x.jsx)("div",{className:"overlay",style:c,children:Object(x.jsxs)("div",{className:"wrapper",children:[Object(x.jsx)(J.a,{type:"RevolvingDot",color:"#84bcb4",height:100,width:100}),t?Object(x.jsxs)("div",{className:"message",children:[Object(x.jsx)("span",{className:"animation type1",children:"L"}),Object(x.jsx)("span",{className:"animation type2",children:"o"}),Object(x.jsx)("span",{className:"animation type3",children:"a"}),Object(x.jsx)("span",{className:"animation type4",children:"d"}),Object(x.jsx)("span",{className:"animation type5",children:"i"}),Object(x.jsx)("span",{className:"animation type6",children:"n"}),Object(x.jsx)("span",{className:"animation type7",children:"g"}),Object(x.jsx)("span",{className:"animation type8",children:"."}),Object(x.jsx)("span",{className:"animation type9",children:"."}),Object(x.jsx)("span",{className:"animation type10",children:"."})]}):Object(x.jsx)("div",{className:"message",children:t})]})})})},z=c(179),G=function(){var e=w().user,t=Object(n.useState)("all"),c=Object(o.a)(t,2),r=c[0],a=c[1],s=Object(n.useState)(!1),i=Object(o.a)(s,2),u=i[0],l=i[1],j=Object(n.useState)([]),d=Object(o.a)(j,2),b=d[0],m=d[1],p=Object(z.a)(["random"]),h=Object(o.a)(p,2),O=h[0],f=h[1];console.log(O);var v=function(){var e=Object(y.a)(S.a.mark((function e(){var t;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,l(!0),e.next=4,F.fetchAll();case 4:t=e.sent,m(t);case 6:return e.prev=6,l(!1),e.finish(6);case 9:case"end":return e.stop()}}),e,null,[[0,,6,9]])})));return function(){return e.apply(this,arguments)}}();if(Object(n.useEffect)((function(){v(),f("random",b.length,{path:"/"})}),[f,b.length]),!e)throw new Error("we cant find your account");var g=b?b.filter((function(e){var t;switch(r){case"all":default:return!0;case"bed":case"blanket":case"chair":case"lamp":case"plant":case"rug":case"table":case"shelf":case"sofa":case"development":case"sales":case"design":case"marketing":return(null===(t=e.product.metadata)||void 0===t?void 0:t.category)===r}})):null;return Object(x.jsxs)("div",{className:"common-container",children:[u&&Object(x.jsx)(B,{}),g&&Object(x.jsx)(E,{currentFilter:r,changeFilter:function(e){a(e)}}),g&&Object(x.jsx)(A,{productItems:g})]})},Y=c(77),H=function(e){var t=e.label,c=e.state,n=e.setState;return Object(x.jsx)(x.Fragment,{children:Object(x.jsxs)("label",{children:[Object(x.jsx)("span",{children:t}),Object(x.jsx)("input",{required:!0,type:"text",onChange:function(e){return n(e.target.value)},value:c})]})})},Q=function(e){var t=e.label,c=e.state,n=e.setState;return Object(x.jsx)(x.Fragment,{children:Object(x.jsxs)("label",{children:[Object(x.jsx)("span",{children:t}),Object(x.jsx)("input",{required:!0,type:"number",onChange:function(e){return n(Number(e.target.value))},value:c})]})})},K=function(e){var t=e.label,c=e.state,n=e.setState;return Object(x.jsx)(x.Fragment,{children:Object(x.jsxs)("label",{children:[Object(x.jsx)("span",{children:t}),Object(x.jsx)("textarea",{required:!0,onChange:function(e){return n(e.target.value)},value:c})]})})},V=c(13),Z=function(e){var t=e.styleName,c=e.onClick;return Object(x.jsx)("button",{className:t,onClick:c,children:"\xd7"})},X=function(e){var t=e.styleName,c=e.content,n=e.isDisabled,r=e.onClick;return Object(x.jsx)("button",{className:t+" btn -mt10",onClick:r,disabled:n,children:c})},$=function(e){var t=e.message,c=e.onClick,n=e.setToggleModal;if(!w().user)throw new Error("we cant find your account");var r={top:R()};return Object(x.jsx)("div",{className:"execute-modal",children:Object(x.jsx)("div",{className:"overlay",style:r,children:Object(x.jsxs)("div",{className:"wrapper -form",children:[Object(x.jsx)("p",{className:"message",children:t}),Object(x.jsxs)("div",{className:"buttons",children:[Object(x.jsx)(X,{styleName:"-w200 -round -mt50",content:"\u306f\u3044",onClick:c}),Object(x.jsx)(X,{styleName:"-w200 -round -mt50",content:"\u3044\u3044\u3048",onClick:function(){n(!1),document.body.style.overflow=""}})]})]})})})},ee=["image/gif","image/jpeg","image/png","image/bmp","image/svg+xml"],te=function(e){var t=e.name,c=e.photos,r=e.setPhotos,a=Object(n.useState)(!1),s=Object(o.a)(a,2),i=s[0],u=s[1],l=Object(n.useState)(!1),j=Object(o.a)(l,2),d=j[0],b=j[1],m=Object(n.useState)(!1),p=Object(o.a)(m,2),h=p[0],O=p[1],f=Object(n.useState)(!1),v=Object(o.a)(f,2),g=v[0],N=v[1],w=function(){b(!1),O(!1),N(!1)},k=function(){var e=Object(y.a)(S.a.mark((function e(t){var n,a,s;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==t.target.files&&0!==t.target.files.length){e.next=2;break}return e.abrupt("return");case 2:if(n=Object.values(t.target.files).concat(),t.target.value="",w(),a=n.filter(function(){var e=Object(y.a)(S.a.mark((function e(t){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ee.includes(t.type)){e.next=3;break}return N(!0),e.abrupt("return",!1);case 3:if(!c.some((function(e){return e.size===t.size}))){e.next=7;break}return b(!0),e.abrupt("return",!1);case 7:return e.abrupt("return",!0);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),0!==a.length){e.next=8;break}return e.abrupt("return");case 8:(s=[].concat(Object(V.a)(c),Object(V.a)(a))).length>=4&&O(!0),r(s.slice(0,3));case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),C=function(){u(!0),document.body.style.overflow="hidden"};return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("div",{className:"photos-container",children:Object(V.a)(Array(3)).map((function(e,n){return n<c.length?Object(x.jsxs)("div",{children:[Object(x.jsx)(Z,{styleName:"close-upload",onClick:C}),Object(x.jsxs)("div",{className:"wrapper",children:[i&&Object(x.jsx)($,{message:"\u672c\u5f53\u306b\u524a\u9664\u3057\u307e\u3059\u304b\uff1f",setToggleModal:u,onClick:function(){return function(e){document.body.style.overflow="",w();var t=c.filter((function(t,c){return e!==c}));r(t),u(!1)}(n)}}),Object(x.jsx)("img",{src:URL.createObjectURL(c[n]),alt:"\u3042\u306a\u305f\u306e\u5199\u771f ".concat(n+1),width:"200",className:"image"})]},n)]}):Object(x.jsxs)("div",{children:[Object(x.jsx)(Z,{styleName:"close-upload -disable",onClick:C}),Object(x.jsx)("label",{className:"wrapper",htmlFor:t,children:Object(x.jsx)("img",{src:"https://placehold.jp/200x200.png",alt:"",className:"image"})},n)]})}))}),d&&Object(x.jsx)("p",{children:"\u203b\u65e2\u306b\u9078\u629e\u3055\u308c\u305f\u753b\u50cf\u3068\u540c\u3058\u3082\u306e\u306f\u8868\u793a\u3055\u308c\u307e\u305b\u3093"}),h&&Object(x.jsx)("p",{children:"\u203b3\u679a\u3092\u8d85\u3048\u3066\u9078\u629e\u3055\u308c\u305f\u753b\u50cf\u306f\u8868\u793a\u3055\u308c\u307e\u305b\u3093"}),g&&Object(x.jsx)("p",{children:"\u203bjpeg, png, bmp, gif, svg\u4ee5\u5916\u306e\u30d5\u30a1\u30a4\u30eb\u5f62\u5f0f\u306f\u8868\u793a\u3055\u308c\u307e\u305b\u3093"}),Object(x.jsx)("label",{className:"btn -upload",htmlFor:t,children:"upload"}),Object(x.jsx)("input",{"data-cy":"file_upload",type:"file",name:t,id:t,accept:"image/*",onChange:k,multiple:!0,hidden:!0})]})},ce=c(25),ne=c.n(ce),re=function(e){return d.collection(e).withConverter({toFirestore:function(e){return e},fromFirestore:function(e){return e.data()}})},ae=function(e,t){return d.collection(e).withConverter({toFirestore:function(e){return e},fromFirestore:function(e){return e.data()}}).doc(t)},se=(re("users"),re("projects"),function(){var e=Object(z.a)(["jwt"]),t=Object(o.a)(e,3),c=t[0],n=t[1],r=t[2],a=function(){var e=Object(y.a)(S.a.mark((function e(t){var c;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ne.a.post("".concat("https://us-central1-temanashi-39b3f.cloudfunctions.net","/api/jwt"),t);case 2:c=e.sent,console.log(c,"createJWT"),n("jwt",c.data.jwt,{path:"/"});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),s=function(){var e=Object(y.a)(S.a.mark((function e(){var t,n;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t={Authorization:"Bearer ".concat(c.jwt)},e.next=4,ne.a.get("".concat("https://us-central1-temanashi-39b3f.cloudfunctions.net","/api/jwt/check"),{headers:t});case 4:return n=e.sent,e.abrupt("return",n.data.message);case 8:throw e.prev=8,e.t0=e.catch(0),new Error("\u30c8\u30fc\u30af\u30f3\u304c\u6709\u52b9\u671f\u9650\u5207\u308c\u3067\u3059\u3002\u518d\u30ed\u30b0\u30a4\u30f3\u3057\u3066\u304f\u3060\u3055\u3044\u3002");case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();return{verifyJWT:s,createJWT:a,removeJWT:function(){r("jwt",{path:"/"})}}}),ie=function(){var e=Object(n.useState)(!1),t=Object(o.a)(e,2),c=t[0],r=t[1],a=Object(n.useState)(null),s=Object(o.a)(a,2),i=s[0],u=s[1],l=Object(n.useState)(!1),j=Object(o.a)(l,2),d=j[0],m=j[1],p=w(),h=p.dispatch,O=p.user,x=se().removeJWT,f=function(){var e=Object(y.a)(S.a.mark((function e(){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(u(null),m(!0),e.prev=2,O){e.next=5;break}throw new Error("we cant find your account");case 5:return e.next=7,ae("users",O.uid).update({online:!1});case 7:return e.next=9,b.signOut();case 9:x(),h({type:"LOGOUT",payload:O}),c||(m(!1),u(null)),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(2),c||(e.t0 instanceof Error&&u(e.t0.message),m(!1));case 17:case"end":return e.stop()}}),e,null,[[2,14]])})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){return function(){return r(!0)}}),[]),{logout:f,error:i,isPending:d}},oe=c(74),ue=c.n(oe),le=[{value:"bed",label:"Bed"},{value:"blanket",label:"Blanket"},{value:"chair",label:"Chair"},{value:"lamp",label:"Lamp"},{value:"plant",label:"Plant"},{value:"rug",label:"Rug"},{value:"table",label:"Table"},{value:"shelf",label:"Shelf"},{value:"sofa",label:"Sofa"},{value:"development",label:"Development"},{value:"design",label:"Design"},{value:"sales",label:"Sales"},{value:"marketing",label:"Marketing"}],je=function(){var e=Object(i.g)(),t=ie().logout,c=Object(n.useState)(""),r=Object(o.a)(c,2),a=r[0],s=r[1],u=Object(n.useState)([]),l=Object(o.a)(u,2),j=l[0],d=l[1],b=Object(n.useState)("Lorem ipsum dolor sit amet, consectetur adipisci elit, sed eiusmod tempor incidunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrum exercitationem ullam corporis suscipit laboriosam, nisi ut aliquid ex ea commodi consequatur. Quis aute iure reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint obcaecat cupiditat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum."),p=Object(o.a)(b,2),h=p[0],O=p[1],f=Object(n.useState)(Math.floor(3e3*Math.random())),v=Object(o.a)(f,2),g=v[0],N=v[1],k=Object(n.useState)(Math.floor(100*Math.random())),C=Object(o.a)(k,2),E=C[0],q=C[1],I=Object(n.useState)(Math.floor(200*Math.random())),D=Object(o.a)(I,2),_=D[0],F=D[1],T=Object(n.useState)(Math.floor(300*Math.random())),U=Object(o.a)(T,2),P=U[0],R=U[1],L=Object(n.useState)(Math.floor(10*Math.random())),M=Object(o.a)(L,2),A=M[0],W=M[1],J=Object(n.useState)(null),G=Object(o.a)(J,2),V=G[0],Z=G[1],X=Object(n.useState)(null),$=Object(o.a)(X,2),ee=$[0],ce=$[1],re=Object(n.useState)(!1),ae=Object(o.a)(re,2),se=ae[0],oe=ae[1],je=Object(z.a)(["random","jwt"]),de=Object(o.a)(je,1)[0],be=w().user;if(!be)throw new Error("Could not complete signup");var me=function(){var c=Object(y.a)(S.a.mark((function c(n){var r,s,i,o,u;return S.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:if(n.preventDefault(),oe(!0),ce(null),V){c.next=6;break}return ce("Please select a furniture category"),c.abrupt("return");case 6:return r=j.map(function(){var e=Object(y.a)(S.a.mark((function e(t){var c;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ue()(t,{maxWidth:500,canvas:!0});case 2:return c=e.sent,e.abrupt("return",new Promise((function(e,n){c.image.toBlob(function(){var c=Object(y.a)(S.a.mark((function c(r){var a,s,i;return S.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:if(r){c.next=2;break}return c.abrupt("return",n("error"));case 2:return a="photos/".concat(be.uid,"/").concat(t.name),c.next=5,m.ref(a).put(r);case 5:return s=c.sent,c.next=8,s.ref.getDownloadURL();case 8:i=c.sent,e(i);case 10:case"end":return c.stop()}}),c)})));return function(e){return c.apply(this,arguments)}}(),t.type,.7)})));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),c.next=9,Promise.all(r);case 9:return s=c.sent,i={name:a,photos:s,description:h,price:g,stock:A,width:E,length:_,height:P,random:de.random,category:V.value},c.prev=11,o={Authorization:"Bearer ".concat(de.jwt)},c.next=15,ne.a.post("".concat("https://us-central1-temanashi-39b3f.cloudfunctions.net","/api/stripe-post"),i,{headers:o});case 15:u=c.sent,console.log(u),c.next=24;break;case 19:c.prev=19,c.t0=c.catch(11),alert("Error on CreateFurniture"),t(),e.push("/login");case 24:return c.prev=24,oe(!1),e.push("/"),c.finish(24);case 28:case"end":return c.stop()}}),c,null,[[11,19,24,28]])})));return function(e){return c.apply(this,arguments)}}();return Object(x.jsxs)("div",{className:"common-container",children:[se&&Object(x.jsx)(B,{}),Object(x.jsx)("div",{className:"create-form",children:Object(x.jsxs)("form",{onSubmit:me,children:[Object(x.jsx)(te,{name:"photos",photos:j,setPhotos:d}),Object(x.jsx)(H,{label:"name",state:a,setState:s}),Object(x.jsx)(K,{label:"description",state:h,setState:O}),Object(x.jsx)(Q,{label:"price",state:g,setState:N}),Object(x.jsx)(Q,{label:"strock",state:A,setState:W}),Object(x.jsx)(Q,{label:"width",state:E,setState:q}),Object(x.jsx)(Q,{label:"length",state:_,setState:F}),Object(x.jsx)(Q,{label:"height",state:P,setState:R}),Object(x.jsxs)("label",{children:[Object(x.jsx)("span",{children:"Category"}),Object(x.jsx)(Y.a,{onChange:function(e){return Z(e)},options:le})]}),Object(x.jsx)("button",{className:"btn",children:"Add Funiture"}),ee&&Object(x.jsx)("p",{className:"error",children:ee})]})})]})},de=function(){var e=Object(n.useState)(""),t=Object(o.a)(e,2),c=t[0],r=t[1],a=Object(n.useState)(""),i=Object(o.a)(a,2),u=i[0],l=i[1],j=function(){var e=Object(n.useState)(!1),t=Object(o.a)(e,2),c=t[0],r=t[1],a=Object(n.useState)(null),s=Object(o.a)(a,2),i=s[0],u=s[1],l=Object(n.useState)(!1),j=Object(o.a)(l,2),d=j[0],m=j[1],p=w().dispatch,h=se().createJWT,O=function(){var e=Object(y.a)(S.a.mark((function e(t,n){var r;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u(null),m(!0),e.prev=2,e.next=5,b.signInWithEmailAndPassword(t,n);case 5:if(null!==(r=e.sent).user){e.next=8;break}return e.abrupt("return");case 8:return e.next=10,ae("users",r.user.uid).update({online:!0});case 10:if(null!==r.user.displayName){e.next=12;break}return e.abrupt("return");case 12:h({uid:r.user.uid,name:r.user.displayName}),p({type:"LOGIN",payload:r.user}),c||(m(!1),u(null)),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(2),c||(e.t0 instanceof Error&&u(e.t0.message),m(!1));case 20:case"end":return e.stop()}}),e,null,[[2,17]])})));return function(t,c){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){return function(){return r(!0)}}),[]),{login:O,isPending:d,error:i}}(),d=j.login,m=j.error,p=j.isPending;return Object(x.jsx)("div",{className:"auth-container",children:Object(x.jsx)("div",{className:"wrapper -w25",children:Object(x.jsxs)("div",{className:"form","data-cy":"login",children:[Object(x.jsx)("h1",{children:"login"}),Object(x.jsxs)("form",{onSubmit:function(e){e.preventDefault(),d(c,u)},children:[Object(x.jsx)("input",{required:!0,type:"email",onChange:function(e){return r(e.target.value)},value:c,placeholder:"xyz@gmail.com","data-cy":"email"}),Object(x.jsx)("input",{required:!0,type:"password",onChange:function(e){return l(e.target.value)},value:u,placeholder:"Must have atleast 6 characters","data-cy":"password"}),!p&&Object(x.jsx)("button",{type:"submit","data-cy":"login",children:"Login"}),p&&Object(x.jsx)("button",{type:"submit",disabled:!0,children:"Loading"}),m&&Object(x.jsx)("div",{className:"error",children:m}),Object(x.jsxs)("div",{className:"forgot-signup",children:[Object(x.jsx)(s.b,{to:"/signup",children:"Forgot password?"}),Object(x.jsx)(s.b,{to:"/signup",children:"Sign Up"})]})]})]})})})},be=function(){var e=Object(n.useState)(""),t=Object(o.a)(e,2),c=t[0],r=t[1],a=Object(n.useState)(""),i=Object(o.a)(a,2),u=i[0],l=i[1],j=Object(n.useState)(""),d=Object(o.a)(j,2),p=d[0],h=d[1],O=Object(n.useState)(null),f=Object(o.a)(O,2),v=f[0],g=f[1],N=Object(n.useState)(null),k=Object(o.a)(N,2),C=k[0],E=k[1],q=function(){var e=Object(n.useState)(!1),t=Object(o.a)(e,2),c=t[0],r=t[1],a=Object(n.useState)(null),s=Object(o.a)(a,2),i=s[0],u=s[1],l=Object(n.useState)(!1),j=Object(o.a)(l,2),d=j[0],p=j[1],h=w().dispatch,O=se().createJWT,x=function(){var e=Object(y.a)(S.a.mark((function e(t,n,r,a){var s,i,o,l;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u(null),p(!0),e.prev=2,e.next=5,b.createUserWithEmailAndPassword(t,n);case 5:if((s=e.sent).user){e.next=8;break}throw new Error("Could not complete signup");case 8:return i="thumbnails/".concat(s.user.uid,"/").concat(a.name),e.next=11,m.ref(i).put(a);case 11:return o=e.sent,e.next=14,o.ref.getDownloadURL();case 14:return l=e.sent,e.next=17,s.user.updateProfile({displayName:r,photoURL:l});case 17:return e.next=19,ae("users",s.user.uid).set({online:!0,displayName:r,photoURL:l});case 19:if(null!==s.user.displayName){e.next=21;break}return e.abrupt("return");case 21:O({uid:s.user.uid,name:s.user.displayName}),h({type:"LOGIN",payload:s.user}),c||(p(!1),u(null)),e.next=29;break;case 26:e.prev=26,e.t0=e.catch(2),c||(e.t0 instanceof Error&&u(e.t0.message),p(!1));case 29:case"end":return e.stop()}}),e,null,[[2,26]])})));return function(t,c,n,r){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){return function(){return r(!0)}}),[]),{signup:x,error:i,isPending:d}}(),I=q.signup,D=q.isPending,_=q.error;return Object(x.jsx)("div",{className:"auth-container",children:Object(x.jsx)("div",{className:"wrapper -w30",children:Object(x.jsxs)("div",{className:"form",children:[Object(x.jsx)("h1",{children:"Sign up"}),Object(x.jsxs)("form",{onSubmit:function(e){e.preventDefault(),null!==v&&I(c,u,p,v)},children:[Object(x.jsx)("input",{required:!0,type:"email",onChange:function(e){return r(e.target.value)},value:c,placeholder:"xyz@gmail.com"}),Object(x.jsx)("input",{required:!0,type:"password",onChange:function(e){return l(e.target.value)},value:u,placeholder:"Must have atleast 6 characters"}),Object(x.jsx)("input",{required:!0,type:"text",onChange:function(e){return h(e.target.value)},value:p,placeholder:"your name"}),Object(x.jsx)("input",{required:!0,type:"file",onChange:function(e){var t;g(null),null!==e.target.files&&(t=e.target.files[0]),t?t.type.includes("image")?t.size>1e6?E("image file size must be less than 100kb"):(E(null),g(t)):E("selected file must be an image"):E("please select a file")}}),C&&Object(x.jsx)("div",{className:"error",children:C}),!D&&Object(x.jsx)("button",{type:"submit",children:"Sign up"}),D&&Object(x.jsx)("button",{type:"submit",disabled:!0,children:"loading"}),_&&Object(x.jsx)("div",{className:"error",children:_}),Object(x.jsxs)("div",{className:"forgot-signup",children:[Object(x.jsx)(s.b,{to:"/login",children:"Forgot password?"}),Object(x.jsx)(s.b,{to:"/login",children:"Login"})]})]})]})})})},me=function(e){var t=e.src;return Object(x.jsx)(x.Fragment,{children:t&&Object(x.jsx)("div",{className:"avatar",children:Object(x.jsx)("img",{src:t,alt:"user avatar"})})})},pe=c(44),he=function(e){var t=e.referense,c=e.item,r=e.setToggleModal,a=Object(n.useState)(""),s=Object(o.a)(a,2),i=s[0],u=s[1],l=w().user;if(!l)throw new Error("we cant find your account");var j=function(){var e=Object(y.a)(S.a.mark((function e(n){var r;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.preventDefault(),r={displayName:l.displayName,photoURL:l.photoURL,content:i,createdAt:h.fromDate(new Date),id:Math.random()};try{t.add(r),c.comments=[].concat(Object(V.a)(c.comments),[r]),u("")}catch(a){a instanceof Error&&u("")}finally{d()}case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),d=function(){r(!1),document.body.style.overflow=""},b={top:R()};return Object(x.jsx)(x.Fragment,{children:Object(x.jsx)("div",{className:"overlay",style:b,children:Object(x.jsxs)("form",{className:"modal",onSubmit:j,children:[Object(x.jsxs)("label",{children:[Object(x.jsx)("span",{children:"Add new comment:"}),Object(x.jsx)(Z,{styleName:"close-modal",onClick:d}),Object(x.jsx)("textarea",{required:!0,onChange:function(e){return u(e.target.value)},value:i})]}),Object(x.jsx)(X,{content:"Add Comment"})]})})})},Oe=function(e){var t=e.collection,c=e.document,r=e.subCollection,a=Object(n.useState)([]),s=Object(o.a)(a,2),i=s[0],l=s[1],j=Object(n.useState)(null),b=Object(o.a)(j,2),m=b[0],p=b[1],h=Object(n.useState)(null),O=Object(o.a)(h,2),x=O[0],f=O[1];return Object(n.useEffect)((function(){var e=function(e,t,c){return d.collection(e).withConverter({toFirestore:function(e){return e},fromFirestore:function(e){return e.data()}}).doc(t).collection(c).withConverter({toFirestore:function(e){return e},fromFirestore:function(e){return e.data()}})}(t,c,r);if(void 0!==e){var n=e.onSnapshot((function(t){var c=[];t.docs.forEach((function(e){c.push(Object(u.a)(Object(u.a)({},e.data()),{},{id:e.id}))})),f(e),l(c),p(null)}),(function(e){console.log(e),p("could not fetch the data")}));return function(){return n()}}}),[t,c,r]),{documents:i,error:m,referense:x}},xe=c.p+"static/media/icon_person.a9a77996.svg",fe=c(178),ve=function(e){var t,c,r=e.furniture,a=Object(n.useState)(!1),s=Object(o.a)(a,2),u=s[0],l=s[1],j=Object(i.h)().id,d=Oe(T("/products/".concat(j,"/comments"))).referense;return Object(x.jsx)(x.Fragment,{children:Object(x.jsxs)("div",{className:"product-comments",children:[Object(x.jsxs)("ul",{className:"comment-list",children:[Object(x.jsxs)("li",{children:[Object(x.jsxs)("div",{className:"auther",children:[Object(x.jsx)(me,{src:xe}),Object(x.jsx)("p",{children:"temanashi-tester"})]}),Object(x.jsx)("div",{className:"date",children:Object(x.jsx)("p",{children:"\u7d045\u5206\u524d"})}),Object(x.jsx)("div",{className:"content",children:Object(x.jsx)("p",{children:"free comment area !"})})]}),(null===(t=r.comments)||void 0===t?void 0:t.length)>0&&(null===(c=r.comments)||void 0===c?void 0:c.map((function(e){var t;return Object(x.jsxs)("li",{children:[Object(x.jsxs)("div",{className:"auther",children:[Object(x.jsx)(me,{src:e.photoURL}),Object(x.jsx)("p",{children:e.displayName})]}),Object(x.jsx)("div",{className:"date",children:Object(x.jsx)("p",{children:Object(pe.a)(null===(t=e.createdAt)||void 0===t?void 0:t.toDate(),{addSuffix:!0,locale:fe.a})})}),Object(x.jsx)("div",{className:"content",children:Object(x.jsx)("p",{children:e.content})})]},e.id)})))]}),Object(x.jsx)(X,{content:"comment",onClick:function(){l(!0),document.body.style.overflow="hidden"}}),u&&d&&Object(x.jsx)(he,{referense:d,item:r,setToggleModal:l})]})})},ge={document:null,isPending:!1,error:null,success:null},Ne=function(e,t){switch(t.type){case"IS_PENDING":return{isPending:!0,document:null,success:!1,error:null};case"ADDED_DOCUMENT":case"UPDATED_DOCUMENT":return{isPending:!1,document:t.payload,success:!0,error:null};case"DELETED_DOCUMENT":return{isPending:!1,document:null,success:!0,error:null};case"ERROR":return{isPending:!1,document:null,success:!1,error:t.payload};default:return e}},we=c.p+"static/media/icon_add_favorite.7bbb0634.svg",ye=c.p+"static/media/icon_remove_favorite.66089a9f.svg",ke=function(e){var t=e.collection,c=e.document,r=e.subCollection,a=e.subDocument,s=Object(n.useState)(),i=Object(o.a)(s,2),l=i[0],j=i[1],b=Object(n.useState)(null),m=Object(o.a)(b,2),p=m[0],h=m[1],O=Object(n.useState)(null),x=Object(o.a)(O,2),f=x[0],v=x[1];return Object(n.useEffect)((function(){var e=function(e,t,c,n){return d.collection(e).withConverter({toFirestore:function(e){return e},fromFirestore:function(e){return e.data()}}).doc(t).collection(c).withConverter({toFirestore:function(e){return e},fromFirestore:function(e){return e.data()}}).doc(n)}(t,c,r,a);if(e){var n=e.onSnapshot((function(t){t?(j(Object(u.a)(Object(u.a)({},t.data()),{},{id:t.id})),v(e),h(null)):h("no such socument exist")}),(function(e){console.log(e),h("failed to get document")}));return function(){return n()}}}),[t,c,r,a]),{documents:l,error:p,referense:f}},Se=function(e){var t=e.furniture,c=Object(n.useState)(!1),r=Object(o.a)(c,2),a=r[0],s=r[1],i=Object(n.useState)(null),u=Object(o.a)(i,2),l=u[0],j=u[1],d=w().user;if(!d)throw new Error("we cant find your account");var b=ke(T("/products/".concat(t.product.id,"/liked_users/").concat(d.uid))),m=ke(T("/users/".concat(d.uid,"/liked_furnitures/").concat(t.product.id)));return Object(n.useEffect)((function(){if(m.referense){var e=m.referense.onSnapshot((function(e){e.exists?s(!0):s(!1)}),(function(e){console.log(e),j("could not push like button, try again")}));return function(){return e()}}}),[m.referense]),Object(x.jsx)("div",{className:"like-button",children:Object(x.jsxs)("span",{onClick:function(){s(!a),!0===a&&(m.referense&&m.referense.delete(),b.referense&&b.referense.delete()),!1===a&&(b.referense&&b.referense.set({liked_user:{uid:d.uid,displayName:d.displayName},createdAt:h.fromDate(new Date)}),m.referense&&m.referense.set({liked_furniture:t,createdAt:h.fromDate(new Date)}))},className:"favorite",children:[a?Object(x.jsx)("img",{src:we,alt:""}):Object(x.jsx)("img",{src:ye,alt:""}),l&&Object(x.jsx)("div",{className:"error",children:l})]})})},Ce=c(75),Ee=(c(170),function(e){var t=e.src,c=e.setToggleModal;if(!w().user)throw new Error("we cant find your account");var n={top:R()};return Object(x.jsx)(x.Fragment,{children:Object(x.jsx)("div",{className:"overlay",style:n,children:Object(x.jsxs)("div",{className:"modal",children:[Object(x.jsx)(Z,{styleName:"close-modal",onClick:function(){c(!1),document.body.style.overflow=""}}),Object(x.jsx)(Ce.Carousel,{children:t.map((function(e){return Object(x.jsx)("div",{children:Object(x.jsx)("img",{src:e,alt:""})})}))})]})})})}),qe=function(e){var t=e.furniture,c=Object(n.useState)(!1),r=Object(o.a)(c,2),a=r[0],s=r[1],l=Object(n.useState)(!1),j=Object(o.a)(l,2),d=j[0],b=j[1],m=Object(n.useState)(!1),p=Object(o.a)(m,2),O=p[0],f=p[1],v=Object(z.a)(["productId"]),g=Object(o.a)(v,2),N=g[0],k=g[1],C=function(){var e=Object(n.useReducer)(Ne,ge),t=Object(o.a)(e,2),c=t[0],r=t[1],a=Object(n.useState)(!1),s=Object(o.a)(a,2),i=s[0],l=s[1],j=function(e){i||r(e)},d=function(){var e=Object(y.a)(S.a.mark((function e(t,c){var n,a;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r({type:"IS_PENDING"});try{n=h.fromDate(new Date),a=re(t).add(Object(u.a)(Object(u.a)({},c),{},{createdAt:n})),j({type:"ADDED_DOCUMENT",payload:a})}catch(s){s instanceof Error&&j({type:"ERROR",payload:s.message})}case 2:case"end":return e.stop()}}),e)})));return function(t,c){return e.apply(this,arguments)}}(),b=function(){var e=Object(y.a)(S.a.mark((function e(t,c){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r({type:"IS_PENDING"}),e.prev=1,e.next=4,ae(t,c).delete();case 4:j({type:"DELETED_DOCUMENT"}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),j({type:"ERROR",payload:"could not delete"});case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t,c){return e.apply(this,arguments)}}(),m=function(){var e=Object(y.a)(S.a.mark((function e(t,c,n){var a;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r({type:"IS_PENDING"}),e.prev=1,e.next=4,ae(t,c).update(n);case 4:return a=e.sent,j({type:"UPDATED_DOCUMENT",payload:a}),e.abrupt("return",a);case 9:return e.prev=9,e.t0=e.catch(1),e.t0 instanceof Error&&j({type:"ERROR",payload:e.t0.message}),e.abrupt("return",null);case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t,c,n){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){return function(){return l(!0)}}),[]),{addDocument:d,deleteDocument:b,updateDocument:m,response:c}}(),E=C.deleteDocument,q=Object(i.h)().id,I=w().user,D=Object(i.g)();if(!I)throw new Error("we cant find your account");var _=function(){var e=Object(y.a)(S.a.mark((function e(t){var c;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:f(!0);try{N.productId?(c=[t].concat(Object(V.a)(N.productId)),k("productId",c)):k("productId",[t],{path:"/"})}catch(n){alert(n)}finally{f(!1),D.push("/users/".concat(I.uid,"/cart"))}case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),F=function(){b(!0),document.body.style.overflow="hidden"};return Object(x.jsxs)(x.Fragment,{children:[O&&Object(x.jsx)(B,{}),Object(x.jsxs)("div",{className:"project-summary-container",children:[Object(x.jsxs)("div",{className:"thumbnail",children:[t.product.images.length>0?Object(x.jsx)("img",{src:t.product.images[0],alt:"",onClick:function(){s(!0),document.body.style.overflow="hidden"}}):Object(x.jsx)("img",{src:"https://placehold.jp/200x160.png",alt:""}),a&&Object(x.jsx)(Ee,{src:t.product.images,setToggleModal:s})]}),Object(x.jsx)("h2",{className:"title",children:t.product.name}),Object.keys(t.prices).map((function(e){return Object(x.jsxs)("div",{className:"content",children:[Object(x.jsx)("div",{className:"price",children:U(t.prices[e].unit_amount)}),Object(x.jsx)("p",{className:"details",children:t.product.description}),Object(x.jsxs)("div",{className:"btnarea",children:[Object(x.jsx)("button",{className:"btn",onClick:F,children:"\u524a\u9664"}),d&&Object(x.jsx)($,{message:"\u672c\u5f53\u306b\u524a\u9664\u3057\u307e\u3059\u304b\uff1f",setToggleModal:b,onClick:function(){return document.body.style.overflow="",b(!1),t.product&&E("products",q),void D.push("/")}}),Object(x.jsx)("button",{className:"btn",onClick:function(){return _(t.product.id)},children:"\u8cfc\u5165"}),Object(x.jsx)(Se,{furniture:t})]})]},e)}))]})]})},Ie=function(){var e=Object(n.useState)(!1),t=Object(o.a)(e,2),c=t[0],r=t[1],a=Object(n.useState)(),s=Object(o.a)(a,2),u=s[0],l=s[1],j=Object(i.h)().id,d=Object(n.useCallback)(Object(y.a)(S.a.mark((function e(){var t;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r(!0),e.next=4,F.fetchProductItem(j);case 4:t=e.sent,l(t);case 6:return e.prev=6,r(!1),e.finish(6);case 9:case"end":return e.stop()}}),e,null,[[0,,6,9]])}))),[j]);return Object(n.useEffect)((function(){d()}),[d]),c?Object(x.jsx)(B,{}):u?Object(x.jsx)("div",{className:"common-container",children:Object(x.jsxs)("div",{className:"product-container",children:[Object(x.jsx)(qe,{furniture:u}),Object(x.jsx)(ve,{furniture:u})]})}):Object(x.jsx)("div",{className:"loading",children:"Loading..."})},De=c.p+"static/media/icon_temple.c57f882d.svg",_e=c(78),Fe=c.p+"static/media/icon_temple_white.8d1c6e88.svg",Te=function(e){var t=e.state,c=e.setState,n=Object(i.g)(),r=w().user;if(!r)throw new Error("we cant find your account");var a=function(e){document.body.style.overflow="",c(!t),n.push(e)},s={top:Math.max(window.pageYOffset,document.documentElement.scrollTop,document.body.scrollTop)};return Object(x.jsx)(x.Fragment,{children:Object(x.jsxs)("div",{className:"responsive-header",children:[Object(x.jsxs)("ul",{className:"head",children:[Object(x.jsxs)("li",{className:"logo",children:[Object(x.jsx)("img",{src:Fe,alt:""}),Object(x.jsx)("span",{children:"Temanashi"})]}),Object(x.jsx)("li",{className:"hamburger-box",onClick:function(){console.log("handleClick")},children:Object(x.jsx)(_e.a,{toggled:t,toggle:c,color:"#f4f4f4"})})]}),t&&Object(x.jsx)("div",{className:"responsive-overlay",style:s,children:Object(x.jsxs)("ul",{className:"menu",children:[Object(x.jsx)("li",{className:"hamburger-link",children:Object(x.jsx)(X,{styleName:"-link",content:"Dashboard",onClick:function(){return a("/")}})}),Object(x.jsx)("li",{className:"hamburger-link",children:Object(x.jsx)(X,{styleName:"-link",content:"New Furniture",onClick:function(){return a("/create/furniture")}})}),Object(x.jsx)("li",{className:"hamburger-link",children:Object(x.jsx)(X,{styleName:"-link",content:"Diagnose",onClick:function(){return a("/diagnose")}})}),Object(x.jsx)("li",{className:"hamburger-link",children:Object(x.jsx)(X,{styleName:"-link",content:"Shopping Cart",onClick:function(){return a("/users/".concat(r.uid,"/cart"))}})}),Object(x.jsx)("li",{className:"hamburger-link",children:Object(x.jsx)(X,{styleName:"-link",content:"My Page",onClick:function(){return a("/users/".concat(r.uid,"/favorite"))}})})]})})]})})},Ue=function(){var e=Object(n.useState)(!1),t=Object(o.a)(e,2),c=t[0],r=t[1];return Object(x.jsxs)("div",{className:c?"navbar -active":"navbar",children:[Object(x.jsx)("ul",{className:"wrapper",children:!c&&Object(x.jsxs)("li",{className:"logo",children:[Object(x.jsx)("img",{src:De,alt:""}),Object(x.jsx)("span",{children:"Temanashi"})]})}),Object(x.jsx)("div",{className:"responsive-wrapper",children:Object(x.jsx)(Te,{state:c,setState:r})})]})},Pe=c.p+"static/media/icon_dashboard.bc800f3b.svg",Re=c.p+"static/media/icon_add_circle.e9074d95.svg",Le=c.p+"static/media/icon_feedback.a86b85c4.svg",Me=c.p+"static/media/icon_cart.0f0cd44e.svg",Ae=function(){var e=w().user;if(!e)throw new Error("we cant find your account");return Object(x.jsx)("div",{className:"sidebar",children:Object(x.jsxs)("div",{className:"sidebar-content",children:[Object(x.jsx)("div",{className:"user",children:Object(x.jsxs)(s.c,{exact:!0,to:"/users/".concat(e.uid,"/favorite"),children:[e.photoURL&&Object(x.jsx)(me,{src:e.photoURL}),Object(x.jsxs)("p",{children:["hey ",e.displayName]})]})}),Object(x.jsx)("nav",{className:"links",children:Object(x.jsxs)("ul",{children:[Object(x.jsx)("li",{children:Object(x.jsxs)(s.c,{exact:!0,to:"/",children:[Object(x.jsx)("img",{src:Pe,alt:"dashboard icon"}),Object(x.jsx)("span",{children:"Dashboard"})]})}),Object(x.jsx)("li",{children:Object(x.jsxs)(s.c,{to:"/create/furniture",children:[Object(x.jsx)("img",{src:Re,alt:"add project icon"}),Object(x.jsx)("span",{children:"New Furniture"})]})}),Object(x.jsx)("li",{children:Object(x.jsxs)(s.c,{to:"/diagnose",children:[Object(x.jsx)("img",{src:Le,alt:"add project icon"}),Object(x.jsx)("span",{children:"Diagnose"})]})}),Object(x.jsx)("li",{children:Object(x.jsxs)(s.c,{to:"/users/".concat(e.uid,"/cart"),children:[Object(x.jsx)("img",{src:Me,alt:"add project icon"}),Object(x.jsx)("span",{children:"Shopping Cart"})]})})]})})]})})},We=function(){var e=function(e,t,c){var r=e.collection,a=Object(n.useState)([]),s=Object(o.a)(a,2),i=s[0],l=s[1],j=Object(n.useState)(null),d=Object(o.a)(j,2),b=d[0],m=d[1],p=Object(n.useRef)(t).current,h=Object(n.useRef)(c).current;return Object(n.useEffect)((function(){var e=re(r);if(void 0!==e){var t;if(p&&(e=(t=e).where.apply(t,Object(V.a)(p))),h){var c;if(null===e)return;e=(c=e).orderBy.apply(c,Object(V.a)(h))}var n=e.onSnapshot((function(e){var t=[];e.docs.forEach((function(e){t.push(Object(u.a)(Object(u.a)({},e.data()),{},{id:e.id}))})),l(t),m(null)}),(function(e){console.log(e),m("could not fetch the data")}));return function(){return n()}}}),[r,p,h]),{documents:i,error:b}}(T("/users")),t=e.error,c=e.documents;return Object(x.jsxs)("div",{className:"user-list",children:[Object(x.jsx)("h2",{children:"All Users"}),t&&Object(x.jsx)("div",{className:"error",children:t}),c&&c.map((function(e){return Object(x.jsxs)("div",{className:"user-list-item",children:[e.online&&Object(x.jsx)("span",{className:"online-user"}),Object(x.jsx)("span",{children:e.displayName}),Object(x.jsx)(me,{src:e.photoURL})]},e.id)}))]})},Je=c(76),Be=c.n(Je),ze=c.p+"static/media/icon_thumb_up.d73a0189.svg",Ge=c.p+"static/media/icon_thumb_down.2a7a6a18.svg",Ye=c.p+"static/media/icon_undo.64b4f6ca.svg",He=function(e){var t=e.width,c=e.percent,r=Object(n.useState)(0),a=Object(o.a)(r,2),s=a[0],i=a[1];return Object(n.useEffect)((function(){i(c*t)}),[t,c]),Object(x.jsx)("div",{className:"progress-div",style:{width:"".concat(t,"%")},children:Object(x.jsx)("div",{style:{width:"".concat(s,"%")},className:"progress"})})},Qe=function(e){var t=e.db,c=Object(i.g)(),a=Object(n.useState)(!1),s=Object(o.a)(a,2),u=s[0],l=s[1],j=Object(n.useState)(),d=Object(o.a)(j,2),b=d[0],m=d[1],p=Object(n.useState)(t.length-1),h=Object(o.a)(p,2),O=h[0],f=h[1],v=Object(n.useState)(0),g=Object(o.a)(v,2),N=g[0],w=g[1],k=Object(n.useRef)(O),C=Object(n.useMemo)((function(){return Array(t.length).fill(0).map((function(e){return r.a.createRef()}))}),[t.length]),E=function(e){var c=(e+1)/t.length;w(1-c)},q=function(){var e=Object(y.a)(S.a.mark((function e(t){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(f(t),k.current=t,E(t),-1!==k.current){e.next=11;break}return e.next=6,P(300);case 6:return l(!0),e.next=9,P(2e3);case 9:l(!1),c.push("/diagnose/result");case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),I=O<t.length-1,D=O>=0,_=function(){var e=Object(y.a)(S.a.mark((function e(c){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(D&&O<t.length)){e.next=3;break}return e.next=3,C[O].current.swipe(c);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),F=function(){var e=Object(y.a)(S.a.mark((function e(){var t;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(I){e.next=2;break}return e.abrupt("return");case 2:return q(t=O+1),e.next=6,C[t].current.restoreCard();case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(x.jsxs)("div",{className:"common-container",children:[u&&Object(x.jsx)(B,{message:"loading"}),Object(x.jsxs)("div",{className:"tinder-swipe",children:[Object(x.jsx)(He,{width:100,percent:N}),Object(x.jsx)("div",{className:"cardContainer",children:t.map((function(e,t){return Object(x.jsx)(Be.a,{ref:C[t],className:"swipe",onSwipe:function(e){return function(e,t){m(e),q(t-1),console.log(b)}(e,t)},onCardLeftScreen:function(){return e=t,void(k.current>=e&&C[e].current.restoreCard());var e},children:Object(x.jsx)("div",{style:{backgroundImage:"url("+e.images[0]+")"},className:"card",children:Object(x.jsx)("h3",{children:e.name})})},e.name)}))}),Object(x.jsxs)("div",{className:"buttons",children:[Object(x.jsx)("button",{onClick:function(){return _("left")},children:Object(x.jsx)("img",{src:Ge,alt:""})}),Object(x.jsx)("button",{onClick:function(){return F()},children:Object(x.jsx)("img",{src:Ye,alt:""})}),Object(x.jsx)("button",{onClick:function(){return _("right")},children:Object(x.jsx)("img",{src:ze,alt:""})})]})]})]})},Ke=function(){var e=function(){var e=Object(n.useState)([]),t=Object(o.a)(e,2),c=t[0],r=t[1],a=Object(z.a)(["random"]),s=Object(o.a)(a,1)[0],i=Number(s.random);return Object(n.useEffect)((function(){var e=[],t=[];function c(){return(c=Object(y.a)(S.a.mark((function c(){var n,a,s,o;return S.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:if(!(t.length<5)){c.next=15;break}if(n=String(Math.floor(Math.random()*i+1)),e.includes(n)){c.next=13;break}return e=[].concat(Object(V.a)(e),[n]),c.next=6,d.collection("products");case 6:return a=c.sent,c.next=9,a.orderBy("metadata.random").startAt(n).endAt(n).get();case 9:s=c.sent,o=s.docs.map((function(e){return Object(u.a)(Object(u.a)({},e.data()),{},{id:e.id})})),5===(t=[].concat(Object(V.a)(t),Object(V.a)(o))).length&&r(t);case 13:c.next=0;break;case 15:case"end":return c.stop()}}),c)})))).apply(this,arguments)}!function(){c.apply(this,arguments)}()}),[i]),{documents:c}}(),t=e.documents;return Object(x.jsxs)("main",{className:"root",children:[0===t.length&&Object(x.jsx)(B,{}),t.length>0&&Object(x.jsx)(Qe,{db:t})]})},Ve=["favorite","history","account"],Ze=function(){var e=w().user;if(!e)throw new Error("we cant find your account");var t=Object(n.useState)(0),c=Object(o.a)(t,2),r=c[0],a=c[1];return Object(x.jsx)("ul",{className:"user-tab-bar",children:Ve.map((function(t,c){return Object(x.jsx)(s.c,{to:"/users/".concat(e.uid,"/").concat(t),onClick:function(){return function(e){a(e)}(c+1)},className:r===c+1?"active":"",children:t},t)}))})},Xe=c.p+"static/media/icon_not_found.f31d6542.svg",$e=function(){return Object(x.jsxs)("div",{className:"not-found-container",children:[Object(x.jsx)("img",{src:Xe,alt:""}),Object(x.jsx)("p",{className:"message",children:"Not Found..."})]})},et=function(){var e=w().user;if(!e)throw new Error("we cant find your account");var t=Oe(T("/users/".concat(e.uid,"/liked_furnitures"))),c=t.documents,n=t.error;return n?Object(x.jsx)("div",{className:"error",children:n}):Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(Ze,{}),Object(x.jsx)("div",{className:"user-container",children:Object(x.jsxs)("div",{className:"inner",children:[0===c.length&&Object(x.jsx)($e,{}),0!==c.length&&Object(x.jsx)(A,{productItems:function(e){return e.map((function(e){return e.liked_furniture}))}(c)})]})})]})},tt=function(){var e=w().user;if(!e)throw new Error("we cant find your account");var t=Object(z.a)(["jwt","productId"]),c=Object(o.a)(t,3),n=c[0],r=c[1],a=c[2],s=ie(),u=s.logout,l=s.isPending,j=Object(i.g)(),d=function(e){e.preventDefault(),u(),j.push("/login")},b=function(){var e=Object(y.a)(S.a.mark((function e(){var t;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ne.a.get("".concat("http://localhost:5001/temanashi-39b3f/us-central1","/helloOnRequest"));case 2:t=e.sent,console.log(t,"result");case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),m=function(){var e=Object(y.a)(S.a.mark((function e(){var t;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ne.a.get("".concat("https://us-central1-temanashi-39b3f.cloudfunctions.net","/api/hello"));case 2:t=e.sent,console.log(t,"result");case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),h=function(){var t=Object(y.a)(S.a.mark((function t(){var c,a;return S.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c={uid:e.uid,name:e.displayName},t.next=3,ne.a.post("".concat("https://us-central1-temanashi-39b3f.cloudfunctions.net","/api/jwt"),c);case 3:a=t.sent,r("jwt",a.data.jwt,{path:"/"}),console.log(a,"result"),console.log(n,"cookies");case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),f=function(){var e=Object(y.a)(S.a.mark((function e(){var t,c;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={Authorization:"Bearer ".concat(n.jwt)},e.next=3,ne.a.get("".concat("https://us-central1-temanashi-39b3f.cloudfunctions.net","/api/jwt/check"),{headers:t});case 3:c=e.sent,console.log(c,"result");case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),v=function(){var e=Object(y.a)(S.a.mark((function e(){var t;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ne.a.get("".concat("http://localhost:5001/temanashi-39b3f/us-central1","/api/hello"));case 2:t=e.sent,console.log("http://localhost:5001/temanashi-39b3f/us-central1"),console.log(t,"check on emulator");case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(Ze,{}),Object(x.jsx)("div",{className:"user-container",children:Object(x.jsxs)("div",{className:"inner",children:[Object(x.jsx)("button",{onClick:function(){p.httpsCallable("helloOnCall")({name:"shun"}).then((function(e){console.log(e.data)}))},className:"btn",children:"OnCallTest"}),Object(x.jsx)("button",{onClick:b,className:"btn",children:"OnRequestTest"}),Object(x.jsx)("button",{onClick:m,className:"btn",children:"GetAxiosTest"}),Object(x.jsx)("button",{onClick:h,className:"btn",children:"CreateJWT"}),Object(x.jsx)("button",{onClick:f,className:"btn",children:"verifyJWT"}),Object(x.jsx)("button",{onClick:function(){a("productId",{path:"/"}),console.log(n)},className:"btn",children:"removeProductIdCookie"}),O&&Object(x.jsx)("button",{onClick:v,className:"btn",children:"emulatingTest"}),!O&&Object(x.jsx)("button",{onClick:v,className:"btn -disabled",disabled:!0,children:"not work emulating test..."}),!l&&Object(x.jsx)("button",{onClick:d,className:"btn",children:"Logout"}),l&&Object(x.jsx)("button",{onClick:d,className:"btn -disabled",disabled:!0,children:"Logging out..."})]})})]})},ct=function(e){var t=e.paymentItems;return Object(x.jsx)("div",{className:"payment-list",children:t&&t.map((function(e){return Object(x.jsx)("div",{children:e.items.map((function(e){return Object(x.jsxs)("div",{className:"box",children:[Object(x.jsxs)("p",{className:"name",children:[e.description,Object(x.jsxs)("span",{className:"date",children:["(",Object(pe.a)(new Date(e.price.created),{addSuffix:!0,locale:fe.a}),")"]})]}),Object(x.jsx)(s.b,{to:"/furnitures/".concat(e.price.product),className:"link",children:"\u8a73\u7d30\u3092\u898b\u308b"})]},e.id)}))},e.id)}))})},nt=function(){var e=Object(n.useState)(!1),t=Object(o.a)(e,2),c=t[0],r=t[1],a=Object(n.useState)([]),s=Object(o.a)(a,2),i=s[0],u=s[1],l=w().user;if(!l)throw new Error("we cant find your account");var j=function(){var e=Object(y.a)(S.a.mark((function e(){var t;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r(!0),e.next=4,F.fetchPayments(l.uid);case 4:t=e.sent,u(t);case 6:return e.prev=6,r(!1),e.finish(6);case 9:case"end":return e.stop()}}),e,null,[[0,,6,9]])})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){j()}),[]),Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(Ze,{}),c&&Object(x.jsx)(B,{}),Object(x.jsx)("div",{className:"user-container",children:Object(x.jsxs)("div",{className:"inner",children:[0!==i.length&&Object(x.jsx)(ct,{paymentItems:i}),0===i.length&&Object(x.jsx)($e,{})]})})]})},rt=function(e){var t=e.state,c=e.setState,n=e.text;return Object(x.jsx)(x.Fragment,{children:Object(x.jsxs)("div",{className:"checkbox-container",children:[t&&Object(x.jsx)("label",{htmlFor:"checkbox-area",className:"checkbox",children:Object(x.jsx)("span",{className:"icon -checked"})}),!t&&Object(x.jsx)("label",{htmlFor:"checkbox-area",className:"checkbox",children:Object(x.jsx)("span",{className:"icon"})}),Object(x.jsx)("input",{required:!0,type:"checkbox",onChange:function(){return c(!t)},id:"checkbox-area",hidden:!0}),Object(x.jsx)("p",{className:"text",children:n})]})})},at=c.p+"static/media/icon_add.0d36f7d1.svg",st=c.p+"static/media/icon_remove.219bfad7.svg",it=function(e){var t=e.add,c=e.priceIndex,r=Object(n.useState)(1),a=Object(o.a)(r,2),s=a[0],i=a[1],u=Object(n.useState)(!1),l=Object(o.a)(u,2),j=l[0],d=l[1],b=Object(n.useState)(!0),m=Object(o.a)(b,2),p=m[0],h=m[1];return Object(x.jsxs)("div",{className:"counter-container",children:[Object(x.jsx)("button",{onClick:function(){return i(s+(e=-1)),s+e===1&&h(!0),4!==s&&d(!1),void t(c,s+e);var e},disabled:p,className:"counter",children:Object(x.jsx)("img",{src:st,alt:"remove icon"})}),Object(x.jsx)("span",{className:"count",children:s}),Object(x.jsx)("button",{onClick:function(){return i(s+(e=1)),h(!1),4===s&&d(!0),void t(c,s+e);var e},disabled:j,className:"counter",children:Object(x.jsx)("img",{src:at,alt:"add icon"})})]})},ot=function(e){var t=e.styleName;return Object(x.jsx)(x.Fragment,{children:Object(x.jsx)("div",{className:"divider ".concat(t)})})},ut=c.p+"static/media/icon_delete.1129c53a.svg",lt=function(e){var t=e.productItems,c=e.selectProduct,n=e.removeProduct,r=Object(z.a)(["productId"]),a=Object(o.a)(r,2),u=a[0],l=a[1],j=w().user,d=Object(i.g)();if(!j)throw new Error("we cant find your account");return Object(x.jsx)("div",{className:"cart-list",children:t&&t.map((function(e){return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsxs)("div",{className:"wrapper",children:[Object(x.jsx)(s.b,{to:"/furnitures/".concat(e.product.id),className:"thumbnail",children:e.product.images.length>0?Object(x.jsx)(M,{src:e.product.images[0]}):Object(x.jsx)(M,{src:"https://placehold.jp/230x160.png"})},e.product.id),Object(x.jsx)("div",{className:"content",children:Object.keys(e.prices).map((function(t){return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsxs)("div",{className:"details",children:[Object(x.jsxs)("p",{className:"name",children:[e.product.name,Object(x.jsx)("span",{className:"price",children:U(e.prices[t].unit_amount)})]}),Object(x.jsx)("div",{className:"btnarea",children:Object(x.jsx)(it,{add:c,priceIndex:t})})]}),Object(x.jsx)("div",{children:Object(x.jsx)("img",{src:ut,alt:"",className:"delete-icon",onClick:function(){return function(e,t){var c=u.productId.filter((function(t){return t!==e}));l("productId",c),n(t),0===c.length&&d.push("/")}(e.product.id,t)}})})]})}))})]}),Object(x.jsx)(ot,{})]})}))})},jt=function(){var e=Object(n.useState)(!1),t=Object(o.a)(e,2),c=t[0],r=t[1],a=Object(n.useState)(!1),s=Object(o.a)(a,2),u=s[0],l=s[1],j=Object(n.useState)([]),d=Object(o.a)(j,2),b=d[0],m=d[1],p=se().verifyJWT,h=ie().logout,O=Object(i.g)(),f=w().user;if(!f)throw new Error("we cant find your account");var v=function(){var e=Object(n.useState)([]),t=Object(o.a)(e,2),c=t[0],r=t[1],a=Object(z.a)(["productId"]),s=Object(o.a)(a,1)[0];return Object(n.useEffect)((function(){function e(){return e=Object(y.a)(S.a.mark((function e(){var t,c;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=s.productId.map(function(){var e=Object(y.a)(S.a.mark((function e(t){var c;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.fetchProductItemWitoutComment(t);case 2:return c=e.sent,e.abrupt("return",c);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=3,Promise.all(t);case 3:c=e.sent,r(c);case 5:case"end":return e.stop()}}),e)}))),e.apply(this,arguments)}s.productId&&function(){e.apply(this,arguments)}()}),[s.productId]),{documents:c}}(),g=v.documents,N=function(){var e=Object(y.a)(S.a.mark((function e(){var t,c,n,r,a,s;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={},c=[],g.forEach((function(e){Object.keys(e.prices).forEach((function(e){c=[].concat(Object(V.a)(c),[{price:e,quantity:1}])}))})),0!==b.length&&(t=b.reduce((function(e,t){return e[t.price]=t,e}),{})),n=c.map((function(e){var c;return null!==(c=t[e.price])&&void 0!==c?c:e})),e.next=7,p();case 7:if(e.sent){e.next=13;break}return alert("\u8a8d\u8a3c\u30c8\u30fc\u30af\u30f3\u304c\u6709\u52b9\u671f\u9650\u5207\u308c\u3067\u3059\u3002\u30ed\u30b0\u30a4\u30f3\u3057\u306a\u304a\u3057\u3066\u304f\u3060\u3055\u3044\u3002"),h(),O.push("/login"),e.abrupt("return");case 13:return e.prev=13,l(!0),r=f.uid,a="".concat(window.location.origin,"/complete"),s="".concat(window.location.origin,"/error"),e.next=20,F.buy(r,n,a,s);case 20:e.next=25;break;case 22:e.prev=22,e.t0=e.catch(13),e.t0 instanceof Error&&alert("Error: ".concat(e.t0.message?e.t0.message:e.t0));case 25:return e.prev=25,l(!1),e.finish(25);case 28:case"end":return e.stop()}}),e,null,[[13,22,25,28]])})));return function(){return e.apply(this,arguments)}}(),k=function(e){return b.filter((function(t){return t.price!==e}))},C=function(){var e=Object(y.a)(S.a.mark((function e(t,c){var n,r,a;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={price:t,quantity:c},e.next=3,k(t);case 3:return r=e.sent,a=[].concat(Object(V.a)(r),[n]),e.next=7,m(a);case 7:case"end":return e.stop()}}),e)})));return function(t,c){return e.apply(this,arguments)}}(),E=function(){var e=Object(y.a)(S.a.mark((function e(t){var c;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k(t);case 2:c=e.sent,m(c);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(x.jsxs)("div",{className:"common-container",children:[u&&Object(x.jsx)(B,{}),0===g.length&&Object(x.jsx)($e,{}),0!==g.length&&Object(x.jsx)(lt,{productItems:g,selectProduct:C,removeProduct:E}),0!==g.length&&Object(x.jsxs)("div",{className:"accept-block",children:[Object(x.jsx)(rt,{state:c,setState:r,text:"\u5229\u7528\u898f\u7d04\u30fb\u500b\u4eba\u60c5\u5831\u306e\u53d6\u308a\u6271\u3044\u306b\u3064\u3044\u3066\u540c\u610f\u3057\u307e\u3059\u304b\uff1f"}),c&&Object(x.jsx)("button",{className:"btn",onClick:N,children:"\u8cfc\u5165\u3059\u308b"}),!c&&Object(x.jsx)("button",{className:"btn -disabled",onClick:function(){alert("\u5229\u7528\u898f\u7d04\u306b\u540c\u610f\u3057\u3066\u304f\u3060\u3055\u3044")},children:"\u8cfc\u5165\u3059\u308b"})]})]})},dt=function(){return Object(x.jsx)(x.Fragment,{children:Object(x.jsx)("div",{className:"error-container",children:Object(x.jsx)("div",{className:"error-block",children:Object(x.jsxs)("div",{className:"main",children:[Object(x.jsx)("div",{className:"bubble"}),Object(x.jsx)("div",{className:"bubble"}),Object(x.jsx)("div",{className:"bubble"}),Object(x.jsx)("div",{className:"bubble"}),Object(x.jsx)("div",{className:"bubble"}),Object(x.jsx)("div",{className:"bubble"}),Object(x.jsx)("h1",{children:"200"}),Object(x.jsx)("p",{children:"It looks like you're seccess !"}),Object(x.jsx)(s.b,{to:"/",className:"goback-button",children:"Go back"})]})})})})},bt=c.p+"static/media/furniture_1.fdec94ed.jpg",mt=c.p+"static/media/furniture_bed.8244dd60.jpg",pt=c.p+"static/media/furniture_blanket.38714cf7.jpg",ht=c.p+"static/media/furniture_chair.5e9ee628.jpg",Ot=c.p+"static/media/furniture_lamp.192a2dc7.jpg",xt=c.p+"static/media/furniture_plant.c7380d24.jpg",ft=c.p+"static/media/furniture_rug.e209de0e.jpg",vt=c.p+"static/media/furniture_shelf.189775f5.jpg",gt=c.p+"static/media/furniture_sofa.537bb04e.jpg",Nt={price:39900,baseColor:"white",subColor:"grey",imageUrl:bt,details:"\u30c9\u30e9\u30a4\u30d5\u30e9\u30ef\u30fc\u3068\u7167\u660e\u304c\u7279\u5fb4\u7684\u306a\u30ef\u30f3\u30eb\u30fc\u30e0\u306e\u4e00\u4eba\u66ae\u3089\u3057\u30a4\u30f3\u30c6\u30ea\u30a2\u3002\u30c6\u30ad\u30c8\u30bf\u30a4\u30eb\u306f\u30b0\u30ec\u30fc\u7cfb\u3067\u63c3\u3048\u3089\u308c\u3001IKEA\u306e\u6bdb\u5e03\u3084\u30b5\u30a4\u30c9\u30c6\u30fc\u30d6\u30eb\u3001\u7167\u660e\u306a\u3069\u3067\u7279\u5fb4\u7acb\u305f\u305b\u3066\u3044\u308b\u3001\u30b7\u30f3\u30d7\u30eb\u306a\u96f0\u56f2\u6c17\u306e\u304a\u90e8\u5c4b\u3002"},wt=[{width:97,depth:180,height:50,price:39900,name:"\u30d9\u30c3\u30c9",imageUrl:mt},{width:40,depth:40,height:60,price:4999,name:"\u30c6\u30fc\u30d6\u30eb",imageUrl:ht},{width:95,depth:64,height:68,price:10990,name:"\u30bd\u30d5\u30a1",imageUrl:gt},{width:132,depth:0,height:38,price:20280,name:"\u9593\u63a5\u7167\u660e",imageUrl:Ot},{width:130,depth:190,height:0,price:4620,name:"\u30e9\u30b0",imageUrl:ft},{width:85,depth:55,height:0,price:4999,name:"\u6bdb\u5e03",imageUrl:pt},{width:70,depth:25,height:70,price:7e3,name:"\u30e9\u30c3\u30af",imageUrl:vt},{width:55,depth:60,height:150,price:15176,name:"\u89b3\u8449\u690d\u7269",imageUrl:xt}],yt=function(){return Object(x.jsxs)("div",{className:"common-container",children:[0===wt.length&&Nt&&Object(x.jsx)(B,{}),Object(x.jsxs)("div",{className:"diagnose-result",children:[Object(x.jsx)("div",{className:"thumbnail",children:Object(x.jsx)("img",{src:Nt.imageUrl,alt:""})}),Object(x.jsxs)("div",{className:"content",children:[Object(x.jsx)("h1",{className:"name",children:"\u30b7\u30f3\u30d7\u30eb\u98a8"}),Object(x.jsx)("p",{className:"text",children:Nt.details}),Object(x.jsxs)("div",{className:"colors",children:[Object(x.jsxs)("div",{className:"item",children:[Object(x.jsxs)("p",{className:"text",children:["\u30d9\u30fc\u30b9\u30ab\u30e9\u30fc\uff1a",Nt.baseColor]}),Object(x.jsx)("span",{className:"cercle -white"})]}),Object(x.jsxs)("div",{className:"item",children:[Object(x.jsxs)("p",{className:"text",children:["\u30b5\u30d6\u30ab\u30e9\u30fc\uff1a",Nt.subColor]}),Object(x.jsx)("span",{className:"cercle -grey"})]})]}),Object(x.jsx)("div",{className:"price",children:Object(x.jsxs)("p",{className:"item",children:["\u3053\u306e\u7d44\u307f\u5408\u308f\u305b\u3067",Object(x.jsxs)("span",{className:"total",children:[U(12e5),"\u5186"]})]})})]})]}),Object(x.jsx)("div",{className:"product-list",children:wt.map((function(e){return Object(x.jsxs)(s.b,{to:"/diagnose",className:"wrapper",children:[Object(x.jsx)("div",{className:"thumbnail",children:e.imageUrl&&Object(x.jsx)(M,{src:e.imageUrl})}),Object(x.jsxs)("div",{className:"content",children:[Object(x.jsx)("h4",{className:"name",children:e.name}),e.price&&Object(x.jsx)("p",{className:"price",children:U(e.price)}),Object(x.jsx)("div",{className:"dimentions",children:Object(x.jsxs)("ul",{children:[Object(x.jsxs)("li",{children:["\u5e45 ",e.width,"cm"]}),Object(x.jsxs)("li",{children:["\u6df1\u3055 ",e.depth,"cm"]}),Object(x.jsxs)("li",{children:["\u9ad8\u3055 ",e.height,"cm"]})]})})]})]},e.name)}))})]})},kt=function(){return Object(x.jsx)(x.Fragment,{children:Object(x.jsx)("div",{className:"terms",children:Object(x.jsxs)("div",{className:"inner",children:[Object(x.jsx)("p",{className:"title",children:"\u5229\u7528\u898f\u7d04"}),Object(x.jsx)("p",{className:"subtitle",children:"Lorem ipsum dolor sit amet, consectetur adipisci elit, sed eiusmod tempor incidunt ut labore et dolore magna aliqua."}),Object(x.jsx)(ot,{}),Object(x.jsxs)("div",{className:"box",children:[Object(x.jsx)("p",{className:"article",children:"\u7b2c1\u6761\u9805"}),Object(x.jsx)("p",{className:"text",children:"Lorem ipsum dolor sit amet, consectetur adipisci elit, sed eiusmod tempor incidunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrum exercitationem ullam corporis suscipit laboriosam, nisi ut aliquid ex ea commodi consequatur. Quis aute iure reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint obcaecat cupiditat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum."})]}),Object(x.jsx)(ot,{}),Object(x.jsxs)("div",{className:"box",children:[Object(x.jsx)("p",{className:"article",children:"\u7b2c2\u6761\u9805"}),Object(x.jsx)("p",{className:"text",children:"Lorem ipsum dolor sit amet. Et dolorem laboriosam est explicabo excepturi est molestiae quam. Qui magni galisum in nesciunt animi aut commodi galisum et nisi temporibus ad cumque quaerat est quia quibusdam. Sed dolore sint est enim nesciunt sed repellendus dolores! Ut ipsa soluta et ducimus tempora qui similique harum qui eligendi repellat."})]}),Object(x.jsx)(ot,{}),Object(x.jsxs)("div",{className:"box",children:[Object(x.jsx)("p",{className:"article",children:"\u7b2c3\u6761\u9805"}),Object(x.jsx)("p",{className:"text",children:"Cum ullam sint et veniam internos rem quasi magnam. Non nemo odio aut voluptatem quia rem unde optio. Et corrupti sapiente hic quia molestias est numquam maxime. Et consectetur omnis eos quae sint aut sunt impedit cum quidem dolores qui asperiores magni."})]}),Object(x.jsx)(ot,{}),Object(x.jsxs)("div",{className:"box",children:[Object(x.jsx)("p",{className:"article",children:"\u7b2c4\u6761\u9805"}),Object(x.jsx)("p",{className:"text",children:"Est saepe ipsum et aspernatur praesentium vel totam commodi quo expedita vitae hic omnis assumenda est dolorem omnis. Cum atque dolorem qui nisi consequuntur eum magni eveniet. Ex accusamus animi sed rerum iste ad maxime quam ad natus voluptatum non provident expedita non amet enim."})]}),Object(x.jsx)(ot,{}),Object(x.jsx)("div",{className:"date",children:"\u3010\u5236\u5b9a\u65e52022\u5e742\u67083\u65e5\u3011"})]})})})},St=function(){return Object(x.jsx)(x.Fragment,{children:Object(x.jsx)("div",{className:"terms",children:Object(x.jsxs)("div",{className:"inner",children:[Object(x.jsx)("p",{className:"title",children:"\u304a\u5ba2\u3055\u307e\u306e\u500b\u4eba\u60c5\u5831\u306e\u304a\u53d6\u6271\u3044\u306b\u3064\u3044\u3066"}),Object(x.jsx)("p",{className:"subtitle",children:"Lorem ipsum dolor sit amet, consectetur adipisci elit, sed eiusmod tempor incidunt ut labore et dolore magna aliqua."}),Object(x.jsx)(ot,{}),Object(x.jsxs)("div",{className:"box",children:[Object(x.jsx)("p",{className:"article",children:"\u7b2c1\u6761\u9805"}),Object(x.jsx)("p",{className:"text",children:"Lorem ipsum dolor sit amet, consectetur adipisci elit, sed eiusmod tempor incidunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrum exercitationem ullam corporis suscipit laboriosam, nisi ut aliquid ex ea commodi consequatur. Quis aute iure reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint obcaecat cupiditat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum."})]}),Object(x.jsx)(ot,{}),Object(x.jsxs)("div",{className:"box",children:[Object(x.jsx)("p",{className:"article",children:"\u7b2c2\u6761\u9805"}),Object(x.jsx)("p",{className:"text",children:"Lorem ipsum dolor sit amet. Et dolorem laboriosam est explicabo excepturi est molestiae quam. Qui magni galisum in nesciunt animi aut commodi galisum et nisi temporibus ad cumque quaerat est quia quibusdam. Sed dolore sint est enim nesciunt sed repellendus dolores! Ut ipsa soluta et ducimus tempora qui similique harum qui eligendi repellat."})]}),Object(x.jsx)(ot,{}),Object(x.jsxs)("div",{className:"box",children:[Object(x.jsx)("p",{className:"article",children:"\u7b2c3\u6761\u9805"}),Object(x.jsx)("p",{className:"text",children:"Cum ullam sint et veniam internos rem quasi magnam. Non nemo odio aut voluptatem quia rem unde optio. Et corrupti sapiente hic quia molestias est numquam maxime. Et consectetur omnis eos quae sint aut sunt impedit cum quidem dolores qui asperiores magni."})]}),Object(x.jsx)(ot,{}),Object(x.jsxs)("div",{className:"box",children:[Object(x.jsx)("p",{className:"article",children:"\u7b2c4\u6761\u9805"}),Object(x.jsx)("p",{className:"text",children:"Est saepe ipsum et aspernatur praesentium vel totam commodi quo expedita vitae hic omnis assumenda est dolorem omnis. Cum atque dolorem qui nisi consequuntur eum magni eveniet. Ex accusamus animi sed rerum iste ad maxime quam ad natus voluptatum non provident expedita non amet enim."})]}),Object(x.jsx)(ot,{}),Object(x.jsx)("div",{className:"date",children:"\u3010\u5236\u5b9a\u65e52022\u5e742\u67083\u65e5\u3011"})]})})})},Ct=function(){return Object(x.jsx)(x.Fragment,{children:Object(x.jsx)("div",{className:"error-container",children:Object(x.jsx)("div",{className:"error-block",children:Object(x.jsxs)("div",{className:"main",children:[Object(x.jsx)("div",{className:"bubble"}),Object(x.jsx)("div",{className:"bubble"}),Object(x.jsx)("div",{className:"bubble"}),Object(x.jsx)("div",{className:"bubble"}),Object(x.jsx)("div",{className:"bubble"}),Object(x.jsx)("div",{className:"bubble"}),Object(x.jsx)("h1",{children:"404"}),Object(x.jsxs)("p",{children:["It looks like you're lost... ",Object(x.jsx)("br",{})," That's a trouble?"]}),Object(x.jsx)(s.b,{to:"/",className:"goback-button",children:"Go back"})]})})})})},Et=function(){var e=w(),t=e.user,c=e.authIsReady;return Object(x.jsxs)("div",{className:"App",children:[!c&&Object(x.jsx)(s.a,{children:Object(x.jsx)("div",{className:"container -auth",children:Object(x.jsxs)(i.d,{children:[Object(x.jsx)(i.b,{exact:!0,path:"/",children:!t&&!c&&Object(x.jsx)(i.a,{to:"/login"})}),Object(x.jsxs)(i.b,{path:"/login",children:[t&&Object(x.jsx)(i.a,{to:"/login"}),!t&&Object(x.jsx)(de,{})]}),Object(x.jsxs)(i.b,{path:"/signup",children:[t&&Object(x.jsx)(i.a,{to:"/login"}),!t&&Object(x.jsx)(be,{})]})]})})}),c&&!t&&Object(x.jsx)(s.a,{children:Object(x.jsx)("div",{className:"container -auth",children:Object(x.jsxs)(i.d,{children:[Object(x.jsx)(i.b,{exact:!0,path:"/",children:!t&&Object(x.jsx)(i.a,{to:"/login"})}),Object(x.jsxs)(i.b,{path:"/login",children:[t&&Object(x.jsx)(i.a,{to:"/login"}),!t&&Object(x.jsx)(de,{})]}),Object(x.jsxs)(i.b,{path:"/signup",children:[t&&Object(x.jsx)(i.a,{to:"/login"}),!t&&Object(x.jsx)(be,{})]})]})})}),c&&t&&Object(x.jsxs)(s.a,{children:[Object(x.jsx)(i.b,{path:"/error",children:Object(x.jsx)(Ct,{})}),Object(x.jsx)(i.b,{path:"/terms",children:Object(x.jsx)(kt,{})}),Object(x.jsx)(i.b,{path:"/privacy",children:Object(x.jsx)(St,{})}),Object(x.jsx)(i.b,{path:"/complete",children:Object(x.jsx)(dt,{})}),Object(x.jsxs)(i.d,{children:[Object(x.jsxs)(i.b,{exact:!0,path:"/",children:[t&&Object(x.jsx)(Ae,{}),Object(x.jsxs)("div",{className:"container",children:[Object(x.jsx)(Ue,{}),!t&&Object(x.jsx)(i.a,{to:"/login"}),t&&Object(x.jsx)(G,{})]}),t&&Object(x.jsx)(We,{})]}),Object(x.jsxs)(i.b,{exact:!0,path:"/diagnose",children:[t&&Object(x.jsx)(Ae,{}),Object(x.jsxs)("div",{className:"container",children:[Object(x.jsx)(Ue,{}),!t&&Object(x.jsx)(i.a,{to:"/login"}),t&&Object(x.jsx)(Ke,{})]}),t&&Object(x.jsx)(We,{})]}),Object(x.jsxs)(i.b,{path:"/diagnose/result",children:[t&&Object(x.jsx)(Ae,{}),Object(x.jsxs)("div",{className:"container",children:[Object(x.jsx)(Ue,{}),!t&&Object(x.jsx)(i.a,{to:"/login"}),t&&Object(x.jsx)(yt,{})]}),t&&Object(x.jsx)(We,{})]}),Object(x.jsxs)(i.b,{path:"/create/furniture",children:[t&&Object(x.jsx)(Ae,{}),Object(x.jsxs)("div",{className:"container",children:[Object(x.jsx)(Ue,{}),!t&&Object(x.jsx)(i.a,{to:"/login"}),t&&Object(x.jsx)(je,{})]}),t&&Object(x.jsx)(We,{})]}),Object(x.jsxs)(i.b,{path:"/furnitures/:id",children:[t&&Object(x.jsx)(Ae,{}),Object(x.jsxs)("div",{className:"container",children:[Object(x.jsx)(Ue,{}),!t&&Object(x.jsx)(i.a,{to:"/login"}),t&&Object(x.jsx)(Ie,{})]}),t&&Object(x.jsx)(We,{})]}),Object(x.jsxs)(i.b,{path:"/login",children:[t&&Object(x.jsx)(Ae,{}),Object(x.jsxs)("div",{className:"container",children:[Object(x.jsx)(Ue,{}),t&&Object(x.jsx)(i.a,{to:"/"}),!t&&Object(x.jsx)(de,{})]}),t&&Object(x.jsx)(We,{})]}),Object(x.jsxs)(i.b,{path:"/signup",children:[t&&Object(x.jsx)(Ae,{}),Object(x.jsxs)("div",{className:"container",children:[Object(x.jsx)(Ue,{}),t&&Object(x.jsx)(i.a,{to:"/"}),!t&&Object(x.jsx)(be,{})]}),t&&Object(x.jsx)(We,{})]}),Object(x.jsxs)(i.b,{path:"/users/:id/history",children:[t&&Object(x.jsx)(Ae,{}),Object(x.jsxs)("div",{className:"container",children:[Object(x.jsx)(Ue,{}),!t&&Object(x.jsx)(i.a,{to:"/login"}),t&&Object(x.jsx)(nt,{})]}),t&&Object(x.jsx)(We,{})]}),Object(x.jsxs)(i.b,{path:"/users/:id/account",children:[t&&Object(x.jsx)(Ae,{}),Object(x.jsxs)("div",{className:"container",children:[Object(x.jsx)(Ue,{}),!t&&Object(x.jsx)(i.a,{to:"/login"}),t&&Object(x.jsx)(tt,{})]}),t&&Object(x.jsx)(We,{})]}),Object(x.jsxs)(i.b,{path:"/users/:id/favorite",children:[t&&Object(x.jsx)(Ae,{}),Object(x.jsxs)("div",{className:"container",children:[Object(x.jsx)(Ue,{}),!t&&Object(x.jsx)(i.a,{to:"/login"}),t&&Object(x.jsx)(et,{})]}),t&&Object(x.jsx)(We,{})]}),Object(x.jsxs)(i.b,{path:"/users/:id/cart",children:[t&&Object(x.jsx)(Ae,{}),Object(x.jsxs)("div",{className:"container",children:[Object(x.jsx)(Ue,{}),!t&&Object(x.jsx)(i.a,{to:"/login"}),t&&Object(x.jsx)(jt,{})]}),t&&Object(x.jsx)(We,{})]})]})]})]})},qt=c(177);a.render(Object(x.jsx)(n.StrictMode,{children:Object(x.jsx)(N,{children:Object(x.jsx)(qt.a,{children:Object(x.jsx)(Et,{})})})}),document.getElementById("root"))},97:function(e,t,c){}},[[173,1,2]]]);
//# sourceMappingURL=main.15066183.chunk.js.map